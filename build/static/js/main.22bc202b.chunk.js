(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(13),u=n.n(i),r=n(2),o=function(e){var t=e.blog,n=e.removeFunction;return l.a.createElement("div",{className:"blog"},l.a.createElement("br",null),l.a.createElement("div",null,t.title),l.a.createElement("div",null,t.author),l.a.createElement("div",null,t.url),l.a.createElement("div",null,t.likes),l.a.createElement("button",{name:t.title,value:t.id,onClick:n}," Delete"))},c=function(e){var t=e.title,n=e.author,a=e.likes,i=e.url,u=e.titleHandler,r=e.authorHandler,o=e.likesHandler,c=e.urlHandler,s=e.addFunction;return l.a.createElement("form",{onSubmit:s},l.a.createElement("div",null,"Blog title:  "),l.a.createElement("input",{value:t,onChange:u}),l.a.createElement("div",null,"Author: "),l.a.createElement("input",{value:n,onChange:r}),l.a.createElement("div",null,"Blog url:  "),l.a.createElement("input",{value:i,onChange:c}),l.a.createElement("div",null,"likes: "),l.a.createElement("input",{value:a,onChange:o}),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"tallenna")))},s=n(3),d=n.n(s),f=function(){return d.a.get("/api/blogs").then((function(e){return e.data}))},m=function(e){return d.a.post("/api/blogs",e).then((function(e){return e.data}))},v=function(e,t){return d.a.put("".concat("/api/blogs","/").concat(e),t).then((function(e){return e.data}))},g=function(e){return d.a.delete("".concat("/api/blogs","/").concat(e)).then((function(e){return e.data}))},p=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error"},t)},b=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],u=Object(a.useState)(""),s=Object(r.a)(u,2),d=s[0],b=s[1],h=Object(a.useState)(""),E=Object(r.a)(h,2),k=E[0],j=E[1],O=Object(a.useState)(""),H=Object(r.a)(O,2),S=H[0],w=H[1],B=Object(a.useState)(""),C=Object(r.a)(B,2),F=C[0],y=C[1],D=Object(a.useState)(null),x=Object(r.a)(D,2),J=x[0],N=x[1];Object(a.useEffect)((function(){f().then((function(e){i(e)}))}),[]);var A=function(e){e.preventDefault(),window.confirm("Poistetaanko ".concat(e.target.title,"?"))&&(g(e.target.value).then(i(n.filter((function(t){return t.id!==e.target.value})))),N("".concat(e.target.title," poistettiin tietokannasta.")))};return l.a.createElement("div",null,l.a.createElement(p,{message:J}),l.a.createElement("h1",null,"Blogilista"),l.a.createElement(c,{title:d,author:k,url:S,likes:F,titleHandler:function(e){b(e.target.value)},authorHandler:function(e){j(e.target.value)},urlHandler:function(e){w(e.target.value)},likesHandler:function(e){y(e.target.value)},addFunction:function(e){e.preventDefault();var t={title:d,author:k,url:S,likes:F};if(n.find((function(e){return e.title===d}))){var a=n.find((function(e){return e.title===d}));if(window.confirm("".concat(d," on jo luettelossa. Haluatko korvata blogin?"))){var l={title:d,author:k,url:S,likes:F,id:a.id};v(l.id,l).catch((function(e){N('Blogi "'.concat(l.title,'" on jo poistettu palvelimelta.'))}));var u=n.find((function(e){return e.id===l.id})),r=n.indexOf(u);n.splice(r,1,l),b(""),j(""),y(""),w(""),N('Blogin "'.concat(l.title,'" tiedot p\xe4ivitettiin.'))}}else m(t).then((function(e){i(n.concat(e)),b(""),j(""),w(""),y(""),N("".concat(e.title," lis\xe4ttiin puhelinluetteloon."))})).catch((function(e){console.log(e.response.data),N(e.response.data)}))}}),n.map((function(e){return l.a.createElement(o,{key:e.id,blog:e,removeFunction:A})})))};n(36);console.log("Rendering app."),u.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.22bc202b.chunk.js.map