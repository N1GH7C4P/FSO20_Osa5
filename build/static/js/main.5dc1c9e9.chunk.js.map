{"version":3,"sources":["components/Blog.js","components/BlogForm.js","components/Togglable.js","services/blogs.js","services/login.js","components/Notification.js","components/LoginForm.js","App.js","index.js"],"names":["Blog","_ref","blog","removeFunction","likeBlog","checkRemovability","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","_useState3","_useState4","removable","setRemovable","showWhenRemovable","display","hideWhenVisible","showWhenVisible","toggleVisibility","useEffect","react_default","a","createElement","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","className","testid","title","author","onClick","url","likes","id","name","value","BlogForm","titleHandler","authorHandler","likesHandler","urlHandler","addFunction","onSubmit","onChange","type","Togglable","React","forwardRef","props","ref","useImperativeHandle","buttonLabel","children","displayName","baseUrl","token","services_blogs","getOne","axios","get","concat","then","response","data","getAll","create","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","object","put","remove","removeId","delete","setToken","newToken","services_login","login","credentials","ErrorNotification","message","SuccessNotification","_ref2","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","App","blogs","setBlogs","newTitle","setNewTitle","_useState5","_useState6","newAuthor","setNewAuthor","_useState7","_useState8","newUrl","setNewUrl","_useState9","_useState10","newLikes","setNewLikes","_useState11","_useState12","errorMessage","setErrorMessage","_useState13","_useState14","successMessage","setSuccessMessage","_useState15","_useState16","setUsername","_useState17","_useState18","setPassword","_useState19","_useState20","user","setUser","_useState21","_useState22","loginVisible","setLoginVisible","blogFormRef","useRef","handleLogin","event","_user","preventDefault","console","log","loginService","window","localStorage","setItem","JSON","stringify","blogService","t0","setTimeout","handleLogout","_callee2","_context2","removeItem","_x2","initialBlogs","sortedBlogs","sort","b","loggedUserJSON","getItem","parse","removeBlog","confirm","target","filter","checkAuthentication","element","oldBlog","find","blogObject","blogToRemove","index","indexOf","splice","addBlog","current","updatedBlogObject","catch","error","returnedBlog","handleTitleChange","handleAuthorChange","handleUrlChange","handleLikesChange","Notification_ErrorNotification","Notification_SuccessNotification","components_LoginForm","loginForm","components_Togglable","components_BlogForm","map","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5dc1c9e9.chunk.js","sourcesContent":["import React, { useState,  useEffect } from 'react'\n\nconst Blog = ({ blog, removeFunction, likeBlog, checkRemovability }) => {\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  }\n\n  const [visible, setVisible] = useState(false)\n  const [removable, setRemovable] = useState(false)\n  const showWhenRemovable = { display: removable ? '' : 'none' }\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useEffect(() => {\n    if(checkRemovability(blog)) {\n      setRemovable(true)\n    }\n    else{\n      setRemovable(false)\n    }\n  }, [checkRemovability])\n\n  return (\n    <div style={blogStyle} className = 'blog'>\n      <div testid='blogTitle'>{blog.title} by {blog.author}</div>\n      <div  style={hideWhenVisible}><button testid='showDetailsButton' onClick={toggleVisibility}>Show details</button></div>\n      <div testid='hideButton' style={showWhenVisible}> <button onClick={toggleVisibility}>Hide</button> </div>\n      <div testid='blogUrl' style={showWhenVisible}>{blog.url}</div>\n      <div testid='likes' style={showWhenVisible}>Likes: <span>{blog.likes}</span></div> \n      <div testid='likeButton' style={showWhenVisible}><button title={blog.title} likes={blog.likes} author={blog.author} url={blog.url} id={blog.id} onClick={likeBlog}>Like</button></div>\n      <div testid='removeButton' style={showWhenRemovable}><button name = {blog.title} value={blog.id} onClick={removeFunction}> Delete</button></div>\n    </div>\n  )\n}\n\nexport default Blog","import React from 'react'\n\nconst BlogForm = ({ title, author, likes, url, titleHandler, authorHandler, likesHandler, urlHandler, addFunction }) => {\n  return (\n    <form onSubmit={addFunction}>\n      <div>Blog title:  </div>\n      <input\n        value={title}\n        onChange={titleHandler}\n      />\n      <div>Author: </div>\n      <input\n        value={author}\n        onChange={authorHandler}\n      />\n      <div>Blog url:  </div>\n      <input\n        value={url}\n        onChange={urlHandler}\n      />\n      <div>likes: </div>\n      <input\n        value={likes}\n        onChange={likesHandler}\n      />\n      <div>\n        <button type=\"submit\">tallenna</button>\n      </div>\n    </form>\n  )\n}\n\nexport default BlogForm","import React, { useState, useImperativeHandle  } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n  useImperativeHandle(ref, () =>  {\n    return {\n      toggleVisibility\n    }\n  })\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible} className=\"togglableContent\">\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nTogglable.displayName = 'Togglable'\n\nexport default Togglable","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getOne = (id) => {\n  const request = axios.get(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n\n  return response.data\n}\n\nconst update = (id, object) => {\n  const request = axios.put(`${baseUrl}/${id}`, object)\n  return request.then(response => response.data)\n}\n\nconst remove = (removeId) => {\n  const request = axios.delete(`${baseUrl}/${removeId}`)\n  return request.then(response => response.data)\n}\n\nexport default {\n  getOne: getOne,\n  getAll: getAll,\n  create: create,\n  update: update,\n  remove: remove,\n  setToken: setToken\n}\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport { ErrorNotification, SuccessNotification }","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst LoginForm = ({\n  handleSubmit,\n  handleUsernameChange,\n  handlePasswordChange,\n  username,\n  password\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n            username\n        <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={handleUsernameChange}\n        />\n      </div>\n      <div>\n            password\n        <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={handlePasswordChange}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n}\n\nLoginForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleUsernameChange: PropTypes.func.isRequired,\n  handlePasswordChange: PropTypes.func.isRequired,\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired\n}\n\nexport default LoginForm","import React, { useState, useRef, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport BlogForm from './components/BlogForm'\nimport Togglable from './components/Togglable'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport { ErrorNotification, SuccessNotification } from './components/Notification'\nimport LoginForm from './components/LoginForm'\n\nconst App = () => {\n\n  const [blogs, setBlogs] = useState([])\n  const [newTitle, setNewTitle ] = useState('')\n  const [newAuthor, setNewAuthor ] = useState('')\n  const [newUrl, setNewUrl ] = useState('')\n  const [newLikes, setNewLikes ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [loginVisible, setLoginVisible] = useState(false)\n\n  const blogFormRef = useRef()\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    console.log('logging in with', username, password)\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    console.log('logging out: ', username)\n    window.localStorage.removeItem('loggedBlogappUser')\n  }\n\n  const logoutForm = () => (\n    <form onSubmit={handleLogout}>\n      <div>\n        <button type=\"submit\">logout</button>\n      </div>\n    </form>\n  )\n\n  const blogForm = () => (\n    <BlogForm\n      title = {newTitle}\n      author = {newAuthor}\n      url = {newUrl}\n      likes = {newLikes}\n      titleHandler = {handleTitleChange}\n      authorHandler = {handleAuthorChange}\n      urlHandler = {handleUrlChange}\n      likesHandler = {handleLikesChange}\n      addFunction = {addBlog}\n    />\n  )\n\n\n  const loginForm = () => {\n    const hideWhenVisible = { display: loginVisible ? 'none' : '' }\n    const showWhenVisible = { display: loginVisible ? '' : 'none' }\n\n    return (\n      <div>\n        <div style={hideWhenVisible}>\n          <button onClick={() => setLoginVisible(true)}>log in</button>\n        </div>\n        <div style={showWhenVisible}>\n          <LoginForm\n            username={username}\n            password={password}\n            handleUsernameChange={handleUsernameChange}\n            handlePasswordChange={handlePasswordChange}\n            handleSubmit={handleLogin}\n          />\n          <button onClick={() => setLoginVisible(false)}>cancel</button>\n        </div>\n      </div>\n    )\n  }\n  \n  const rows = () =>\n    blogs.map(blog =>\n      <Blog\n        key={blog.id}\n        blog={blog}\n        removeFunction={removeBlog}\n        likeBlog={likeBlog}\n        checkRemovability={checkAuthentication}\n      />\n    )\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        const sortedBlogs = initialBlogs.sort((a,b) => b.likes - a.likes)\n        setBlogs(sortedBlogs)\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }  }, [])\n\n  const removeBlog = (event) => {\n    event.preventDefault()\n    if(window.confirm(`Poistetaanko ${event.target.name}?`)){\n      blogService\n        .remove(event.target.value)\n        .then(setBlogs(blogs.filter(blog => blog.id !== event.target.value)))\n      setSuccessMessage(`${event.target.name} poistettiin tietokannasta.`)\n      setErrorMessage(null)\n    }\n  }\n\n  const checkAuthentication = (element) => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if(loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      if(element.user.username === user.username) {\n        return true\n      }\n      else{\n        return false\n      }\n    }\n  }\n\n  const likeBlog = (event) => {\n    event.preventDefault()\n\n    const oldBlog = blogs.find(blog => blog.title === event.target.title)\n\n    const blogObject = {\n      title: oldBlog.title,\n      author: oldBlog.author,\n      url: oldBlog.url,\n      likes: oldBlog.likes+1,\n      user: oldBlog.user,\n      id: oldBlog.id,\n    }\n\n    blogService\n      .update(blogObject.id,blogObject)\n    const blogToRemove = blogs.find(blog => blog.id === blogObject.id)\n    const index = blogs.indexOf(blogToRemove)\n    blogs.splice(index,1,blogObject)\n  }\n\n  const addBlog = (event) => {\n    blogFormRef.current.toggleVisibility()\n    event.preventDefault()\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      likes: newLikes\n    }\n    if(blogs.find(blog => blog.title === newTitle)){\n      const oldBlog = blogs.find(blog => blog.title === newTitle)\n      if(window.confirm(`${newTitle} on jo luettelossa. Haluatko korvata blogin?`)){\n        const updatedBlogObject = {\n          title: newTitle,\n          author: newAuthor,\n          url: newUrl,\n          likes: newLikes,\n          id: oldBlog.id\n        }\n\n        blogService\n          .update(updatedBlogObject.id,updatedBlogObject)\n          .catch(error => {\n            setErrorMessage(error)\n          })\n\n        const blogToRemove = blogs.find(blog => blog.id === updatedBlogObject.id)\n        const index = blogs.indexOf(blogToRemove)\n        blogs.splice(index,1,updatedBlogObject)\n        setNewTitle('')\n        setNewAuthor('')\n        setNewLikes('')\n        setNewUrl('')\n        setSuccessMessage(`Blogin \"${updatedBlogObject.title}\" tiedot päivitettiin.`)\n      }\n    }\n    else{\n      blogService\n        .create(blogObject)\n        .then(returnedBlog => {\n          setBlogs(blogs.concat(returnedBlog))\n          setNewTitle('')\n          setNewAuthor('')\n          setNewUrl('')\n          setNewLikes('')\n          setSuccessMessage(`${returnedBlog.title} lisättiin blogilistalle.`)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage(error.response.data)\n        })\n    }\n  }\n\n  const handleUsernameChange = (event) => {\n    setUsername(event.target.value)\n  }\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value)\n  }\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value)\n  }\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value)\n  }\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value)\n  }\n  const handleLikesChange = (event) => {\n    setNewLikes(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <ErrorNotification message={errorMessage} />\n      <SuccessNotification message={successMessage} />\n\n      <h1>Blogilista</h1>\n\n      {user === null ?\n        loginForm() :\n        <div>\n          <p>{user.name} logged in</p>\n          <Togglable buttonLabel=\"new blog\" ref={blogFormRef}>\n            {blogForm()}\n          </Togglable>\n          {logoutForm()}\n        </div>\n      }\n      {rows()}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nconsole.log('Rendering app.')\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}