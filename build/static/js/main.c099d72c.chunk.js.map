{"version":3,"sources":["components/Blog.js","components/BlogForm.js","components/Togglable.js","services/blogs.js","services/login.js","components/Notification.js","components/LoginForm.js","App.js","index.js"],"names":["Blog","_ref","blog","removeFunction","likeBlog","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","_useState3","_useState4","removable","setRemovable","showWhenRemovable","display","hideWhenVisible","showWhenVisible","useEffect","checkRemovability","toggleVisibility","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","console","log","id","react_default","a","createElement","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","className","title","onClick","author","url","likes","name","value","BlogForm","titleHandler","authorHandler","likesHandler","urlHandler","addFunction","onSubmit","onChange","type","Togglable","React","forwardRef","props","ref","useImperativeHandle","buttonLabel","children","baseUrl","token","services_blogs","getOne","axios","get","concat","then","response","data","getAll","create","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","object","put","remove","removeId","delete","setToken","newToken","services_login","login","credentials","ErrorNotification","message","SuccessNotification","_ref2","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","App","blogs","setBlogs","newTitle","setNewTitle","_useState5","_useState6","newAuthor","setNewAuthor","_useState7","_useState8","newUrl","setNewUrl","_useState9","_useState10","newLikes","setNewLikes","_useState11","_useState12","errorMessage","setErrorMessage","_useState13","_useState14","successMessage","setSuccessMessage","_useState15","_useState16","setUsername","_useState17","_useState18","setPassword","_useState19","_useState20","setUser","_useState21","_useState22","loginVisible","setLoginVisible","blogFormRef","useRef","handleLogin","event","_user","preventDefault","loginService","setItem","stringify","blogService","t0","setTimeout","handleLogout","_callee2","_context2","removeItem","_x2","initialBlogs","sortedBlogs","sort","b","removeBlog","confirm","target","filter","oldBlog","find","blogObject","blogToRemove","index","indexOf","splice","addBlog","current","updatedBlogObject","catch","error","returnedBlog","handleTitleChange","handleAuthorChange","handleUrlChange","handleLikesChange","Notification_ErrorNotification","Notification_SuccessNotification","components_LoginForm","loginForm","components_Togglable","components_BlogForm","map","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c099d72c.chunk.js","sourcesContent":["import React, {useState,  useEffect} from 'react'\n\nconst Blog = ({ blog, removeFunction, likeBlog}) => {\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  }\n\n  const [visible, setVisible] = useState(false)\n  const [removable, setRemovable] = useState(false)\n\n  const showWhenRemovable = { display: removable ? '' : 'none' }\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  useEffect(() => {\n    checkRemovability()\n  }, [])\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  const checkRemovability = () => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    const user = JSON.parse(loggedUserJSON)\n    console.log(blog.user.id)\n    console.log(user.id)\n    console.log(blog.user.id===user.id)\n    if(blog.user.id === user.id) {\n      setRemovable(true)\n    }\n    else{\n      setRemovable(false)\n    }\n  }\n\n  return (\n    <div style={blogStyle} className = 'blog'>\n      <div>{blog.title}</div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>Show details</button>\n      </div>\n      <div style={showWhenVisible}>\n        <button onClick={toggleVisibility}>Hide</button><br></br>\n        <div>{blog.author}</div>\n        <div>{blog.url}</div>\n        <div>{blog.likes} <button title={blog.title} likes={blog.likes} author={blog.author} url={blog.url} id={blog.id} onClick={likeBlog}>Like</button></div>\n      </div>\n      <div style={showWhenRemovable}>\n        <button name = {blog.title} value={blog.id} onClick={removeFunction}> Delete</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Blog","import React from 'react'\n\nconst BlogForm = ({title, author, likes, url, titleHandler, authorHandler, likesHandler, urlHandler, addFunction}) => {\n  return (\n    <form onSubmit={addFunction}>\n        <div>Blog title:  </div>\n        <input\n          value={title}\n          onChange={titleHandler}\n        />\n        <div>Author: </div>\n        <input\n          value={author}\n          onChange={authorHandler}\n        />\n        <div>Blog url:  </div>\n        <input\n          value={url}\n          onChange={urlHandler}\n        />\n        <div>likes: </div>\n        <input\n          value={likes}\n          onChange={likesHandler}\n        />\n        <div>\n          <button type=\"submit\">tallenna</button>\n        </div>\n      </form>\n  )\n}\n\nexport default BlogForm","import React, { useState, useImperativeHandle  } from 'react'\r\n\r\n  const Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n  useImperativeHandle(ref, () =>  {\r\n    return {\r\n        toggleVisibility    \r\n    }\r\n  })\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Togglable","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\nconst setToken = newToken => {  \n  token = `bearer ${newToken}`\n}\n\nconst getOne = (id) => {\n  const request = axios.get(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n\n  return response.data\n}\n\nconst update = (id, object) => {\n  const request = axios.put(`${baseUrl}/${id}`, object)\n  return request.then(response => response.data)\n}\n\nconst remove = (removeId) => {\n    const request = axios.delete(`${baseUrl}/${removeId}`)\n    return request.then(response => response.data)\n}\n\nexport default {\n  getOne: getOne, \n  getAll: getAll, \n  create: create, \n  update: update, \n  remove: remove,\n  setToken: setToken\n}\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport {ErrorNotification, SuccessNotification}","import React from 'react'\r\n\r\nconst LoginForm = ({\r\n    handleSubmit,\r\n    handleUsernameChange,\r\n    handlePasswordChange,\r\n    username,\r\n    password\r\n    }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n        <div>\r\n            username\r\n            <input \r\n                type=\"text\" \r\n                value={username} \r\n                name=\"Username\" \r\n                onChange={handleUsernameChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            password\r\n            <input\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={handlePasswordChange}\r\n            />\r\n        </div>\r\n        <button type=\"submit\">login</button>\r\n    </form>\r\n    )\r\n}\r\nexport default LoginForm","import React, { useState, useRef, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport BlogForm from './components/BlogForm'\nimport Togglable from './components/Togglable'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport {ErrorNotification, SuccessNotification} from './components/Notification'\nimport LoginForm from './components/LoginForm'\n\nconst App = () => {\n\n  const [blogs, setBlogs] = useState([]) \n  const [newTitle, setNewTitle ] = useState('')\n  const [newAuthor, setNewAuthor ] = useState('')\n  const [newUrl, setNewUrl ] = useState('')\n  const [newLikes, setNewLikes ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [loginVisible, setLoginVisible] = useState(false)\n\n  const blogFormRef = useRef()\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    console.log('logging in with', username, password)\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user)) \n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    console.log('logging out: ', username)\n    window.localStorage.removeItem('loggedBlogappUser')\n  }\n\n  const logoutForm = () => (\n    <form onSubmit={handleLogout}>\n      <div>\n        <button type=\"submit\">logout</button>    \n      </div>\n    </form>\n  )\n\n  const blogForm = () => (\n    <BlogForm\n        title = {newTitle}\n        author = {newAuthor}\n        url = {newUrl}\n        likes = {newLikes}\n        titleHandler = {handleTitleChange}\n        authorHandler = {handleAuthorChange}\n        urlHandler = {handleUrlChange}\n        likesHandler = {handleLikesChange}\n        addFunction = {addBlog}\n      />\n  )\n  \n\n  const loginForm = () => {\n    const hideWhenVisible = { display: loginVisible ? 'none' : '' }\n    const showWhenVisible = { display: loginVisible ? '' : 'none' }\n\n    return (\n      <div>\n        <div style={hideWhenVisible}>\n          <button onClick={() => setLoginVisible(true)}>log in</button>\n        </div>\n        <div style={showWhenVisible}>\n          <LoginForm\n            username={username}\n            password={password}\n            handleUsernameChange={handleUsernameChange}\n            handlePasswordChange={handlePasswordChange}\n            handleSubmit={handleLogin}\n          />\n          <button onClick={() => setLoginVisible(false)}>cancel</button>\n        </div>\n      </div>\n    )\n  }\n\n  const rows = () => \n    blogs.map(blog =>\n    <Blog\n      key={blog.id}\n      blog={blog}\n      removeFunction={removeBlog}\n      likeBlog={likeBlog}\n    />\n  )  \n\n  useEffect(() => {\n    blogService\n      .getAll()\n        .then(initialBlogs => {\n          const sortedBlogs = initialBlogs.sort((a,b) => b.likes - a.likes)\n          setBlogs(sortedBlogs)\n    })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')    \n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n  }  }, [])\n  \n  const removeBlog = (event) => {\n    event.preventDefault()\n    if(window.confirm(`Poistetaanko ${event.target.name}?`)){\n      blogService\n        .remove(event.target.value)\n          .then(setBlogs(blogs.filter(blog => blog.id !== event.target.value)))\n      setSuccessMessage(`${event.target.name} poistettiin tietokannasta.`)\n      setErrorMessage(null)\n    }\n  }\n\n  const likeBlog = (event) => {\n    event.preventDefault()\n\n    const oldBlog = blogs.find(blog => blog.title === event.target.title)\n    \n    const blogObject = {\n      title: oldBlog.title,\n      author: oldBlog.author,\n      url: oldBlog.url,\n      likes: oldBlog.likes+1,\n      user: oldBlog.user,\n      id: oldBlog.id,\n    }\n    \n    blogService\n      .update(blogObject.id,blogObject)\n      const blogToRemove = blogs.find(blog => blog.id === blogObject.id)\n      const index = blogs.indexOf(blogToRemove)\n      blogs.splice(index,1,blogObject)\n  }\n\n  const addBlog = (event) => {\n    blogFormRef.current.toggleVisibility()\n    event.preventDefault()\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      likes: newLikes\n    }\n    if(blogs.find(blog => blog.title === newTitle)){\n      const oldBlog = blogs.find(blog => blog.title === newTitle)\n      if(window.confirm(`${newTitle} on jo luettelossa. Haluatko korvata blogin?`)){\n            const updatedBlogObject = {\n              title: newTitle,\n              author: newAuthor,\n              url: newUrl,\n              likes: newLikes,\n              id: oldBlog.id\n            }\n      \n            blogService\n              .update(updatedBlogObject.id,updatedBlogObject)\n              .catch(error => {\n                setErrorMessage(`Blogi \"${updatedBlogObject.title}\" on jo poistettu palvelimelta.`)\n              })\n\n              const blogToRemove = blogs.find(blog => blog.id === updatedBlogObject.id)\n              const index = blogs.indexOf(blogToRemove)\n              blogs.splice(index,1,updatedBlogObject)\n              setNewTitle(\"\")\n              setNewAuthor(\"\")\n              setNewLikes(\"\")\n              setNewUrl(\"\")\n              setSuccessMessage(`Blogin \"${updatedBlogObject.title}\" tiedot päivitettiin.`)\n            }\n        }\n        else{\n          blogService\n            .create(blogObject)\n              .then(returnedBlog => {\n                setBlogs(blogs.concat(returnedBlog))\n                setNewTitle(\"\")\n                setNewAuthor(\"\")\n                setNewUrl(\"\")\n                setNewLikes(\"\")\n                setSuccessMessage(`${returnedBlog.title} lisättiin blogilistalle.`)\n              })\n              .catch(error => {\n                console.log(error.response.data)\n                setErrorMessage(error.response.data)\n              })\n        }\n  }\n\n  const handleUsernameChange = (event) => {\n    setUsername(event.target.value)\n  }\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value)\n  }\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value)\n  }\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value)\n  }\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value)\n  }\n  const handleLikesChange = (event) => {\n    setNewLikes(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <ErrorNotification message={errorMessage} />\n      <SuccessNotification message={successMessage} />\n\n      <h1>Blogilista</h1>  \n\n      {user === null ? \n        loginForm() : \n        <div>\n          <p>{user.name} logged in</p>\n          <Togglable buttonLabel=\"new blog\" ref={blogFormRef}>\n            {blogForm()}\n          </Togglable>\n          {logoutForm()}\n        </div>\n      }\n      {rows()}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nconsole.log(\"Rendering app.\")\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}